{% extends "base.html" %}

{% block title %}Create New Note{% endblock %}

{% block content %}
<h1>New Note</h1>

<form method="post" action="/create-note">
    <!-- Toolbar -->
    <div class="toolbar">
        <label for="title">Title (no spaces, no extension):</label>
        <input type="text" id="title" name="title" required>

        <label for="folder" style="margin-left: 15px;">Folder:</label>
        <select id="folder" name="folder">
            <option value="">(Root)</option>
            {% for folder in folders %}
                <option value="{{ folder }}">{{ folder }}</option>
            {% endfor %}
        </select>

        <span style="margin-left: 20px;">
            <button type="button" id="toggle-editor">📝 Toggle Edit</button>
            <button type="button" id="toggle-preview">👁️ Toggle Preview</button>
        </span>
    </div>

    <!-- Editor / Preview -->
    <div class="editor-container">
        <div id="editor" class="editor-section">
            <textarea id="content" name="content" required>---
title: ""
tags: []
category: ""
created: {{ current_date }}
---

# 

</textarea>
        </div>
        <div id="preview" class="preview-section"></div>
    </div>

    <!-- Create button -->
    <br>
    <button type="submit">➕ Create Note</button>
</form>

<p><a href="/">← Back to Notes List</a></p>

<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
<script src="/static/js/edit_note.js"></script> {# reuse existing JS file #}
{% endblock %}
